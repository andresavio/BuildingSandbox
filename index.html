<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Construtor de Mundos</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <style>
        .story-text {
            background-image: url('http://static.photos/vintage/1024x576/42');
            background-size: cover;
            background-position: center;
            background-blend-mode: overlay;
        }
        .choice-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100 min-h-screen">
    <div id="vanta-bg" class="fixed inset-0 -z-10 opacity-30"></div>
    
    <header class="py-6 px-4 sm:px-6 lg:px-8 border-b border-gray-800">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <h1 class="text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-blue-500">
                <i data-feather="compass" class="inline mr-2"></i> Construtor de Mundos
            </h1>
            <button id="new-world-btn" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg flex items-center">
                <i data-feather="plus" class="mr-2"></i> Novo Mundo
            </button>
        </div>
    </header>

    <main class="max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
        <div class="bg-gray-800 rounded-xl shadow-2xl overflow-hidden mb-8">
            <div class="story-text p-8 min-h-64 flex items-center justify-center bg-gray-900 bg-opacity-70">
                <div id="story-display" class="text-center text-lg leading-relaxed">
                    <h2 class="text-3xl font-bold mb-6">Bem-vindo ao Construtor de Mundos</h2>
                    <p class="mb-6">Você está prestes a criar um universo único. Cada decisão moldará a história, os personagens e o destino deste mundo.</p>
                    <button id="start-game-btn" class="px-6 py-3 bg-purple-600 hover:bg-purple-700 rounded-lg font-medium">
                        Começar sua Jornada
                    </button>
                </div>
            </div>
        </div>

        <div id="choices-container" class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
            <!-- Choices will be dynamically inserted here -->
        </div>

        <div class="bg-gray-800 rounded-xl p-6 shadow-lg">
            <h3 class="text-xl font-semibold mb-4 flex items-center">
                <i data-feather="map" class="mr-2"></i> Seu Mundo Atual
            </h3>
            <div id="world-info" class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="bg-gray-700 p-4 rounded-lg">
                    <h4 class="font-medium text-blue-400 mb-2">Geografia</h4>
                    <p id="geography-info" class="text-sm">Ainda não definido</p>
                </div>
                <div class="bg-gray-700 p-4 rounded-lg">
                    <h4 class="font-medium text-purple-400 mb-2">Cultura</h4>
                    <p id="culture-info" class="text-sm">Ainda não definido</p>
                </div>
                <div class="bg-gray-700 p-4 rounded-lg">
                    <h4 class="font-medium text-green-400 mb-2">História</h4>
                    <p id="history-info" class="text-sm">Ainda não definido</p>
                </div>
            </div>
        </div>
    </main>

    <footer class="py-4 px-4 sm:px-6 lg:px-8 border-t border-gray-800 text-center text-gray-500 text-sm">
        <p>© 2023 Construtor de Mundos - Todos os direitos reservados</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.globe.min.js"></script>
    <script>
        // Initialize animations and effects
        AOS.init();
        feather.replace();
        
        // Background effect
        VANTA.GLOBE({
            el: "#vanta-bg",
            mouseControls: true,
            touchControls: true,
            gyroControls: false,
            minHeight: 200.00,
            minWidth: 200.00,
            scale: 1.00,
            scaleMobile: 1.00,
            color: 0x3f83f8,
            backgroundColor: 0x111827
        });

        // Game state
        const gameState = {
            world: {
                name: "",
                geography: "",
                culture: "",
                history: "",
                factions: [],
                currentEvent: null,
                timeline: []
            },
            playerChoices: []
        };

        // Story elements
        const storyElements = {
            beginnings: [
                {
                    title: "O Nascimento de um Mundo",
                    text: "No princípio, havia apenas o vazio. Então, você moldou a primeira pedra. Como será este novo mundo?",
                    choices: [
                        { text: "Um continente vasto com diversos biomas", effect: { geography: "Um grande continente com florestas, montanhas e desertos" } },
                        { text: "Um arquipélago de ilhas misteriosas", effect: { geography: "Um conjunto de ilhas diversas, cada uma com seu próprio ecossistema" } },
                        { text: "Uma terra dividida por um grande rio", effect: { geography: "Uma terra fértil cortada por um rio colossal, criando duas regiões distintas" } }
                    ]
                }
            ],
            cultures: [
                {
                    title: "Os Primeiros Habitantes",
                    text: "Com a terra formada, seres começam a surgir. Que tipo de civilização irá florescer nesta terra?",
                    choices: [
                        { text: "Uma sociedade guerreira valorizando honra", effect: { culture: "Uma cultura marcial onde o combate e a honra são centrais" } },
                        { text: "Um povo místico conectado à natureza", effect: { culture: "Druidas e xamãs guiam uma sociedade em harmonia com o mundo natural" } },
                        { text: "Comerciantes astutos construindo cidades", effect: { culture: "Grandes cidades-estado competem pelo controle de rotas comerciais" } }
                    ]
                }
            ],
            conflicts: [
                {
                    title: "Tempos de Conflito",
                    text: "A paz nunca dura para sempre. Que tipo de desafio seu mundo enfrentará?",
                    choices: [
                        { text: "Uma guerra entre reinos rivais", effect: { history: "Uma grande guerra moldou as fronteiras e relações entre as nações" } },
                        { text: "Uma praga misteriosa assola a terra", effect: { history: "Uma doença terrível deixou cicatrizes profundas na população" } },
                        { text: "O surgimento de uma nova religião", effect: { history: "Um profeta surgiu, pregando uma nova fé que divide a sociedade" } }
                    ]
                }
            ]
        };

        // DOM elements
        const storyDisplay = document.getElementById('story-display');
        const choicesContainer = document.getElementById('choices-container');
        const startGameBtn = document.getElementById('start-game-btn');
        const newWorldBtn = document.getElementById('new-world-btn');
        const geographyInfo = document.getElementById('geography-info');
        const cultureInfo = document.getElementById('culture-info');
        const historyInfo = document.getElementById('history-info');

        // Game functions
        function displayStorySegment(segment) {
            storyDisplay.innerHTML = `
                <h2 class="text-2xl font-bold mb-4 fade-in">${segment.title}</h2>
                <p class="mb-6 fade-in">${segment.text}</p>
            `;
            
            choicesContainer.innerHTML = '';
            segment.choices.forEach((choice, index) => {
                const choiceBtn = document.createElement('button');
                choiceBtn.className = 'choice-btn bg-gray-700 hover:bg-gray-600 p-4 rounded-lg transition-all duration-300 ease-in-out fade-in';
                choiceBtn.innerHTML = `
                    <div class="flex items-center">
                        <span class="bg-blue-600 text-white rounded-full w-6 h-6 flex items-center justify-center mr-3">${index + 1}</span>
                        <span>${choice.text}</span>
                    </div>
                `;
                choiceBtn.addEventListener('click', () => makeChoice(choice));
                choicesContainer.appendChild(choiceBtn);
            });
        }

        function makeChoice(choice) {
            gameState.playerChoices.push(choice.text);
            
            // Apply effects
            if (choice.effect.geography) {
                gameState.world.geography = choice.effect.geography;
                geographyInfo.textContent = choice.effect.geography;
            }
            if (choice.effect.culture) {
                gameState.world.culture = choice.effect.culture;
                cultureInfo.textContent = choice.effect.culture;
            }
            if (choice.effect.history) {
                gameState.world.history = choice.effect.history;
                historyInfo.textContent = choice.effect.history;
            }
            
            // Determine next story segment
            if (!gameState.world.geography) {
                displayStorySegment(storyElements.beginnings[0]);
            } else if (!gameState.world.culture) {
                displayStorySegment(storyElements.cultures[0]);
            } else if (!gameState.world.history) {
                displayStorySegment(storyElements.conflicts[0]);
            } else {
                // World creation complete
                storyDisplay.innerHTML = `
                    <h2 class="text-3xl font-bold mb-6 fade-in">Seu Mundo Está Completo!</h2>
                    <p class="mb-6 fade-in">Você criou um mundo único com ${gameState.world.geography.toLowerCase()}, onde ${gameState.world.culture.toLowerCase()}. Sua história foi marcada por ${gameState.world.history.toLowerCase()}.</p>
                    <button id="explore-more-btn" class="px-6 py-3 bg-green-600 hover:bg-green-700 rounded-lg font-medium fade-in">
                        Explorar Mais
                    </button>
                `;
                document.getElementById('explore-more-btn').addEventListener('click', () => {
                    alert('Recursos adicionais serão implementados em atualizações futuras!');
                });
            }
        }

        function startNewWorld() {
            gameState.world = {
                name: "",
                geography: "",
                culture: "",
                history: "",
                factions: [],
                currentEvent: null,
                timeline: []
            };
            gameState.playerChoices = [];
            
            geographyInfo.textContent = "Ainda não definido";
            cultureInfo.textContent = "Ainda não definido";
            historyInfo.textContent = "Ainda não definido";
            
            displayStorySegment(storyElements.beginnings[0]);
        }

        // Event listeners
        startGameBtn.addEventListener('click', startNewWorld);
        newWorldBtn.addEventListener('click', startNewWorld);

        // Initialize
        feather.replace();
    </script>
</body>
</html>
